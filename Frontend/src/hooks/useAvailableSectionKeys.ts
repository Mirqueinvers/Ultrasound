// Frontend/src/hooks/useAvailableSectionKeys.ts
import { useMemo } from "react";
import type { SectionKey } from "@components/common/OrgNavigation";

export const useAvailableSectionKeys = (
  selectedStudies: string[]
): SectionKey[] => {
  return useMemo(() => {
    const sections = selectedStudies.flatMap((study): SectionKey[] => {
      switch (study) {
        case "ОБП":
          return [
            "ОБП:печень",
            "ОБП:желчный",
            "ОБП:поджелудочная",
            "ОБП:селезёнка",
          ];
        case "Почки":
          return [
            "Почки:правая",
            "Почки:левая",
            "Почки:мочевой пузырь",
          ];
        case "ОМТ (Ж)":
          return [
            "ОМТ (Ж):матка",
            "ОМТ (Ж):правый яичник",
            "ОМТ (Ж):левый яичник",
            "ОМТ (Ж):мочевой пузырь",
          ];
        case "ОМТ (М)":
          return [
            "ОМТ (М):простата",
            "ОМТ (М):мочевой пузырь",
          ];
        case "Щитовидная железа":
          return [
            "Щитовидная железа:правая доля",
            "Щитовидная железа:левая доля",
          ];
        case "Плевральные полости":
          return [
            "Плевральная полость:правая",
            "Плевральная полость:левая",
          ];
        case "Слюнные железы":
          return [
            "Слюнные железы:околоушная правая",
            "Слюнные железы:околоушная левая",
            "Слюнные железы:подчелюстная правая",
            "Слюнные железы:подчелюстная левая",
            "Слюнные железы:подъязычная правая",
            "Слюнные железы:подъязычная левая",
          ];
        case "БЦА":
          return [
            "БЦА:ОСА правая",
            "БЦА:ВСА правая",
            "БЦА:НСА правая",
            "БЦА:позвоночная правая",
            "БЦА:ОСА левая",
            "БЦА:ВСА левая",
            "БЦА:НСА левая",
            "БЦА:позвоночная левая",
          ];
        case "УВНК":
          return [
            "Вены НК:бедренная правая",
            "Вены НК:бедренная левая",
            "Вены НК:подколенная правая",
            "Вены НК:подколенная левая",
            "Вены НК:большеберцовая правая",
            "Вены НК:большеберцовая левая",
            "Вены НК:БПВ правая",
            "Вены НК:БПВ левая",
            "Вены НК:МПВ правая",
            "Вены НК:МПВ левая",
          ];
        case "Молочные железы":
          return [
            "Молочные железы:правая железа",
            "Молочные железы:левая железа",
          ];
        case "Органы мошонки":
          return [
            "Органы мошонки:правое яичко",
            "Органы мошонки:левое яичко",
          ];
        case "Мягких тканей":
          return ["Мягкие ткани:основной блок"];
        case "Лимфоузлы":
          return [
            "Лимфатические узлы:Поднижнечелюстные",
            "Лимфатические узлы:Шейные",
            "Лимфатические узлы:Подключичные",
            "Лимфатические узлы:Надключичные",
            "Лимфатические узлы:Подмышечные",
            "Лимфатические узлы:Паховые",
          ];
        default:
          return [];
      }
    });

    if (sections.length === 0) return sections;
    return [...sections, "Заключение"];
  }, [selectedStudies]);
};
